{
  "properties": {
    "job_id": {
      "bsonType": "string",
      "title": "ID",
      "description": "Job ID",
      "minLength": 3,
      "maxLength": 64,
      "pattern": "^[a-z0-9-_]{3,64}$",
      "caseType": "lowercase",
      "permanent": true
    },
    "job_title": {
      "bsonType": "string",
      "title": "Title",
      "description": "Job Title",
      "minLength": 1,
      "maxLength": 64,
      "caseType": "capitalize"
    },
    "job_collection_id": {
      "bsonType": "string",
      "title": "Collection ID",
      "description": "Collection ID",
      "minLength": 3,
      "maxLength": 64,
      "pattern": "^[a-z0-9-_]{3,64}$",
      "collection": true,
      "caseType": "lowercase"
    },
    "job_scheduled": {
      "bsonType": "bool",
      "title": "Scheduled",
      "description": "Scheduled or not",
      "default": false
    },
    "job_scheduled_cron": {
      "bsonType": "string",
      "title": "Crontab",
      "description": "Schedule cron",
      "minLength": 0,
      "maxLength": 64,
      "pattern": "^[a-z0-9*\\-,/ ]{0,64}$",
      "caseType": "lowercase"
    },
    "job_aggregate": {
      "bsonType": "object",
      "title": "Aggregation",
      "description": "Query aggregation"
    }
  },
  "required": ["job_id", "job_title", "job_collection_id"],
  "index": [["job_id"], ["job_collection_id"], ["job_scheduled"], ["job_scheduled", "_approved"]],
  "unique": [["job_id"]],
  "sort": {
    "_modified_at": -1
  }
}
