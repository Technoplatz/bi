<!--
Technoplatz BI

Copyright (C) 2019-2023 Technoplatz IT Solutions GmbH, Mustafa Mat

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see https://www.gnu.org/licenses.

If your software can interact with users remotely through a computer
network, you should also make sure that it provides a way for users to
get its source.  For example, if your program is a web application, its
interface could display a "Source" link that leads users to an archive
of the code.  There are many ways you could offer source, and different
solutions will be better for different programs; see section 13 for the
specific requirements.

You should also get your employer (if you work as a programmer) or school,
if any, to sign a "copyright disclaimer" for the program, if necessary.
For more information on this, and how to apply and follow the GNU AGPL, see
https://www.gnu.org/licenses.
-->

<ion-content>
  <div class="toggler" (click)="doMenuToggle()">
    <ion-icon *ngIf="menutoggle" name="caret-forward-outline"></ion-icon>
    <ion-icon *ngIf="!menutoggle" name="caret-back-outline"></ion-icon>
  </div>
  <ion-header class="ion-no-border">
    <ion-toolbar class="clicked-item" (click)="misc.navi.next('dashboard')">
      <img alt="logo" class="ion-margin-start bi-logo" src="../../../assets/images/logo.png" />
    </ion-toolbar>
  </ion-header>
  <ion-list lines="none" class="menu-side">
    <ion-item lines="none" class="pane-item">
      <ion-label>
        {{ "Console" }}_<br />
        <span>
          v{{ version }} ({{ release }})
        </span>
      </ion-label>
    </ion-item>
    <ion-item lines="none" class="dash-item">
      <ion-label class="ion-text-wrap ion-no-margin">
        <ion-button size="default" fill="clear" class="dash-button" (click)="misc.navi.next('dashboard')">
          <ion-icon name="stats-chart-sharp"></ion-icon>{{ "Dashboard" | translate }}
        </ion-button>
      </ion-label>
    </ion-item>
    <ion-item lines="none" class="dash-item">
      <ion-label class="ion-text-wrap ion-no-margin">
        <ion-button size="default" fill="clear" class="dash-button" (click)="misc.navi.next('admin/_collection')">
          <ion-icon name="cube-outline"></ion-icon>{{ "Studio" | translate }}
        </ion-button>
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label class="ion-text-wrap ion-no-margin">
        <ion-button size="default" fill="clear" class="menu-button">
          <ion-icon name="server-outline"></ion-icon>{{ "Data Collections" | translate }}
        </ion-button>
        <div *ngIf="collections?.length > 0; else nocollectionsfound">
          <p *ngFor="let item of collections" (click)="misc.navi.next('collection/'+ item.col_id)"
            class="clicked-item dark">
            {{ item?.col_title }}
          </p>
        </div>
        <ng-template #nocollectionsfound>
          <p>
            {{ "No collections found" | translate }}
          </p>
        </ng-template>
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label class="ion-text-wrap ion-no-margin">
        <ion-button size="default" fill="clear" class="menu-button">
          <ion-icon name="eye-outline"></ion-icon>{{ "Shared Views" | translate }}
        </ion-button>
        <div *ngIf="views?.length > 0; else noviewsfound">
          <p *ngFor="let item of views" (click)="misc.navi.next('view/' + item.id)" class="clicked-item dark">
            {{ item.self.title }}
          </p>
        </div>
        <ng-template #noviewsfound>
          <p>
            {{ "No views found" | translate }}
          </p>
        </ng-template>
      </ion-label>
    </ion-item>
    <ion-item *ngIf="segmentsadm?.length > 0" lines="none">
      <ion-label class="ion-text-wrap ion-no-margin">
        <ion-button size="default" fill="clear" class="menu-button">
          <ion-icon name="hammer-outline"></ion-icon>{{ "Administration" | translate }}
        </ion-button>
        <p *ngFor="let item of segmentsadm" (click)="misc.navi.next('admin/' + item.id)" class="clicked-item dark">
          {{ item.title }}
        </p>
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label class="ion-text-wrap">
        <ion-button size="default" fill="clear" class="menu-button">
          <ion-icon name="business-outline"></ion-icon>{{ "Account" | translate }}
        </ion-button>
        <p (click)="misc.navi.next('account/profile-settings')" class="clicked-item dark">
          {{ "Profile Settings" | translate }}
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>